<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>

<script type="text/javascript" src="/static/js/analytics.js" ></script>
<link type="text/css" rel="stylesheet" href="/static/css/banner-styles.css"/>





  <title>Why architetural complexity is like body fat</title>

  <meta http-equiv="Content-Language" content="en" />
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <style type="text/css">
    body {
      margin-left: 10%;
      margin-right: 10%;
      font-family: sans-serif;
      color: black;
      background: white;
    } 
    span.sc {
      color: red;
    }
    dd p {
      margin: 0;
    }
    dd ul {
      margin: 0;
    }
    dt {
      margin-top: 1em;
      margin-left: 1.5em;
    }
    p.note {
      color: green;
    }
    h2 {
      number: auto;
    }
    p.author {
      margin-left: 30%;
      font-size: 60%;
    }
    .side-right {
       float: right;
       width: 170px;
       margin: 0 15px 15px 0;
       padding: 10px 0;
       text-align: center;
       font-size: 75%;
    }
    .side-left {
       float: left;
       width: 170px;
       margin: 0 15px 0 0;
       padding: 0 0;
       text-align: center;
       font-size: 75%;
    }
  </style>

</head>

<body bgcolor="white" text="black">
<!-- BEGIN WAYBACK TOOLBAR INSERT -->
<script> if (window.archive_analytics) { window.archive_analytics.values['server_name']="wwwb-app15.us.archive.org";}; </script>

<script type="text/javascript" src="/static/js/disclaim-element.js" ></script>
<script type="text/javascript" src="/static/js/graph-calc.js" ></script>
<script type="text/javascript" src="/static/jflot/jquery.min.js" ></script>
<script type="text/javascript">
//<![CDATA[
var firstDate = 820454400000;
var lastDate = 1420070399999;
var wbPrefix = "/web/";
var wbCurrentUrl = "http:\/\/koti.welho.com\/pnikande\/FAT\/index.html";

var curYear = -1;
var curMonth = -1;
var yearCount = 18;
var firstYear = 1996;
var imgWidth = 475;
var yearImgWidth = 25;
var monthImgWidth = 2;
var trackerVal = "none";
var displayDay = "6";
var displayMonth = "Apr";
var displayYear = "2012";
var prettyMonths = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

function showTrackers(val) {
	if(val == trackerVal) {
		return;
	}
	if(val == "inline") {
		document.getElementById("displayYearEl").style.color = "#ec008c";
		document.getElementById("displayMonthEl").style.color = "#ec008c";
		document.getElementById("displayDayEl").style.color = "#ec008c";		
	} else {
		document.getElementById("displayYearEl").innerHTML = displayYear;
		document.getElementById("displayYearEl").style.color = "#ff0";
		document.getElementById("displayMonthEl").innerHTML = displayMonth;
		document.getElementById("displayMonthEl").style.color = "#ff0";
		document.getElementById("displayDayEl").innerHTML = displayDay;
		document.getElementById("displayDayEl").style.color = "#ff0";
	}
   document.getElementById("wbMouseTrackYearImg").style.display = val;
   document.getElementById("wbMouseTrackMonthImg").style.display = val;
   trackerVal = val;
}
function getElementX2(obj) {
	var thing = jQuery(obj);
	if((thing == undefined) 
			|| (typeof thing == "undefined") 
			|| (typeof thing.offset == "undefined")) {
		return getElementX(obj);
	}
	return Math.round(thing.offset().left);
}
function trackMouseMove(event,element) {

   var eventX = getEventX(event);
   var elementX = getElementX2(element);
   var xOff = eventX - elementX;
	if(xOff < 0) {
		xOff = 0;
	} else if(xOff > imgWidth) {
		xOff = imgWidth;
	}
   var monthOff = xOff % yearImgWidth;

   var year = Math.floor(xOff / yearImgWidth);
	var yearStart = year * yearImgWidth;
   var monthOfYear = Math.floor(monthOff / monthImgWidth);
   if(monthOfYear > 11) {
       monthOfYear = 11;
   }
   // 1 extra border pixel at the left edge of the year:
   var month = (year * 12) + monthOfYear;
   var day = 1;
	if(monthOff % 2 == 1) {
		day = 15;
	}
	var dateString = 
		zeroPad(year + firstYear) + 
		zeroPad(monthOfYear+1,2) +
		zeroPad(day,2) + "000000";

	var monthString = prettyMonths[monthOfYear];
	document.getElementById("displayYearEl").innerHTML = year + 1996;
	document.getElementById("displayMonthEl").innerHTML = monthString;
	// looks too jarring when it changes..
	//document.getElementById("displayDayEl").innerHTML = zeroPad(day,2);

	var url = wbPrefix + dateString + '/' +  wbCurrentUrl;
	document.getElementById('wm-graph-anchor').href = url;

   //document.getElementById("wmtbURL").value="evX("+eventX+") elX("+elementX+") xO("+xOff+") y("+year+") m("+month+") monthOff("+monthOff+") DS("+dateString+") Moy("+monthOfYear+") ms("+monthString+")";
   if(curYear != year) {
       var yrOff = year * yearImgWidth;
       document.getElementById("wbMouseTrackYearImg").style.left = yrOff + "px";
       curYear = year;
   }
   if(curMonth != month) {
       var mtOff = year + (month * monthImgWidth) + 1;
       document.getElementById("wbMouseTrackMonthImg").style.left = mtOff + "px";
       curMonth = month;
   }
}
//]]>
</script>

<style type="text/css">body{margin-top:0!important;padding-top:0!important;min-width:800px!important;}#wm-ipp a:hover{text-decoration:underline!important;}</style>
<div id="wm-ipp" lang="en" class="__wb_banner_div" style="display:none; position:relative;padding:0 5px;min-height:70px;min-width:800px">


<div id="wm-ipp-inside" class="__wb_banner_div" style="position:fixed;padding:0!important;margin:0!important;width:97%;min-width:780px;border:5px solid #000;border-top:none;background-image:url(/static/images/toolbar/wm_tb_bk_trns.png);text-align:center;-moz-box-shadow:1px 1px 3px #333;-webkit-box-shadow:1px 1px 3px #333;box-shadow:1px 1px 3px #333;font-size:11px!important;font-family:'Lucida Grande','Arial',sans-serif!important;">
   <table style="border-collapse:collapse;margin:0;padding:0;width:100%;"><tbody><tr>
   <td style="padding:10px;vertical-align:top;min-width:110px;">
   <a href="/web/" title="Wayback Machine home page" style="background-color:transparent;border:none;"><img src="/static/images/toolbar/wayback-toolbar-logo.png" alt="Wayback Machine" width="110" height="39" border="0"/></a>
   </td>
   <td style="padding:0!important;text-align:center;vertical-align:top;width:100%;">

       <table style="border-collapse:collapse;margin:0 auto;padding:0;width:570px;"><tbody><tr>
       <td style="padding:3px 0;" colspan="2">
       <form target="_top" method="get" action="/web/form-submit.jsp" name="wmtb" id="wmtb" style="margin:0!important;padding:0!important;"><input type="text" name="url" id="wmtbURL" value="http://koti.welho.com/pnikande/FAT/index.html" style="width:400px;font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;" onfocus="javascript:this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20120406202832" /><input type="submit" value="Go" style="font-size:11px;font-family:'Lucida Grande','Arial',sans-serif;margin-left:5px;width: inherit !important" /><span id="wm_tb_options" style="display:block;"></span></form>
       </td>
       <td style="vertical-align:bottom;padding:5px 0 0 0!important;" rowspan="2">
           <table style="border-collapse:collapse;width:110px;color:#99a;font-family:'Helvetica','Lucida Grande','Arial',sans-serif;"><tbody>
			
           <!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
           <tr style="width:110px;height:16px;font-size:10px!important;">
           	<td style="padding-right:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       Mar
                       
               </td>
               <td id="displayMonthEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight:bold;text-transform:uppercase;width:34px;height:15px;padding-top:1px;text-align:center;" title="You are here: 20:28:32 Apr 6, 2012">APR</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight:bold;text-transform:uppercase;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       May
                       
               </td>
           </tr>

           <!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
           <tr>
               <td style="padding-right:9px;white-space:nowrap;overflow:visible;text-align:right!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_prv_off.png" alt="Previous capture" width="14" height="16" border="0" />
                       
               </td>
               <td id="displayDayEl" style="background:#000;color:#ff0;width:34px;height:24px;padding:2px 0 0 0;text-align:center;font-size:24px;font-weight: bold;" title="You are here: 20:28:32 Apr 6, 2012">6</td>
				<td style="padding-left:9px;white-space:nowrap;overflow:visible;text-align:left!important;vertical-align:middle!important;" nowrap="nowrap">
               
                       <img src="/static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0"/>
                       
			    </td>
           </tr>

           <!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
           <tr style="width:110px;height:13px;font-size:9px!important;">
				<td style="padding-right:9px;font-size:11px!important;font-weight: bold;text-align:right;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2011
                       
               </td>
               <td id="displayYearEl" style="background:#000;color:#ff0;font-size:11px!important;font-weight: bold;padding-top:1px;width:34px;height:13px;text-align:center;" title="You are here: 20:28:32 Apr 6, 2012">2012</td>
				<td style="padding-left:9px;font-size:11px!important;font-weight: bold;white-space:nowrap;overflow:visible;" nowrap="nowrap">
               
                       2013
                       
				</td>
           </tr>
           </tbody></table>
       </td>

       </tr>
       <tr>
       <td style="vertical-align:middle;padding:0!important;">
           <a href="/web/20120406202832*/http://koti.welho.com/pnikande/FAT/index.html" style="color:#33f;font-size:11px;font-weight:bold;background-color:transparent;border:none;" title="See a list of every capture for this URL"><strong>1 captures</strong></a>
           <div class="__wb_banner_div" style="margin:0!important;padding:0!important;color:#666;font-size:9px;padding-top:2px!important;white-space:nowrap;" title="Timespan for captures of this URL">6 Apr 12 - 6 Apr 12</div>
       </td>
       <td style="padding:0!important;">
       <a style="position:relative; white-space:nowrap; width:475px;height:27px;" href="" id="wm-graph-anchor">
       <div class="__wb_banner_div" id="wm-ipp-sparkline" style="position:relative; white-space:nowrap; width:475px;height:27px;background-color:#fff;cursor:pointer;border-right:1px solid #ccc;" title="Explore captures for this URL">
			<img id="sparklineImgId" style="position:absolute; z-index:9012; top:0px; left:0px;"
				onmouseover="showTrackers('inline');" 
				onmouseout="showTrackers('none');"
				onmousemove="trackMouseMove(event,this)"
				alt="sparklines"
				width="475"
				height="27"
				border="0"
				src="/web/jsp/graph.jsp?graphdata=475_27_1996:-1:000000000000_1997:-1:000000000000_1998:-1:000000000000_1999:-1:000000000000_2000:-1:000000000000_2001:-1:000000000000_2002:-1:000000000000_2003:-1:000000000000_2004:-1:000000000000_2005:-1:000000000000_2006:-1:000000000000_2007:-1:000000000000_2008:-1:000000000000_2009:-1:000000000000_2010:-1:000000000000_2011:-1:000000000000_2012:3:000100000000_2013:-1:000000000000_2014:-1:000000000000"></img>
			<img id="wbMouseTrackYearImg" 
				style="display:none; position:absolute; z-index:9010;"
				width="25" 
				height="27"
				border="0"
				src="/static/images/toolbar/transp-yellow-pixel.png"></img>
			<img id="wbMouseTrackMonthImg"
				style="display:none; position:absolute; z-index:9011; " 
				width="2"
				height="27" 
				border="0"
				src="/static/images/toolbar/transp-red-pixel.png"></img>
       </div>
		</a>

       </td>
       </tr></tbody></table>
   </td>
   <td style="text-align:right;padding:5px;width:65px;font-size:11px!important;">
       <a href="javascript:;" onclick="document.getElementById('wm-ipp').style.display='none';" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_close.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;margin-bottom:23px;background-color:transparent;border:none;" title="Close the toolbar">Close</a>
       <a href="http://faq.web.archive.org/" style="display:block;padding-right:18px;background:url(/static/images/toolbar/wm_tb_help.png) no-repeat 100% 0;color:#33f;font-family:'Lucida Grande','Arial',sans-serif;background-color:transparent;border:none;" title="Get some help using the Wayback Machine">Help</a>
   </td>
   </tr></tbody></table>

</div>
</div>
<script type="text/javascript">
 var wmDisclaimBanner = document.getElementById("wm-ipp");
 if(wmDisclaimBanner != null) {
   disclaimElement(wmDisclaimBanner);
 }
</script>
<!-- END WAYBACK TOOLBAR INSERT -->


<a name="top"></a>
<div id="top"><!-- main -->

<h1>Why architectural complexity is like body fat &#8212; food for thought</h1>

<p class="author">by <a href="/web/20120406202832/http://www.iki.fi/~pnr/">Pekka Nikander</a></p>

<p>The Internet architecture has gained quite a lot of 
   <a href="/web/20120406202832/http://koti.welho.com/pnikande/FAT/complexity.html">complexity</a>
  during its lifetime.  This jest tries to help people thinking about
  architectural complexity by comparing it to body fat, pointing out
  the similarities.</p>

<p class="side-right"><a href="/web/20120406202832/http://www.jedsart.com/fat%20sitter%20catalog.jpg">
    <img src="/web/20120406202832im_/http://koti.welho.com/pnikande/FAT/FatSitter.jpg" alt="Artwork 'Fat Sitting Woman'" /></a><br />
    Fat Sitting Woman, by <a href="/web/20120406202832/http://www.jedsart.com/">Jed Dougherty</a></p>

<ol>
  <li><a href="/web/20120406202832/http://koti.welho.com/pnikande/FAT/index.html#a1"> 
      You naturally tend to gain it while you grow older
  </a></li>
  <li><a href="/web/20120406202832/http://koti.welho.com/pnikande/FAT/index.html#a2"> 
      It is very easy to gain it and very hard to get rid of it
  </a></li>
  <li><a href="/web/20120406202832/http://koti.welho.com/pnikande/FAT/index.html#a3"> 
      It is healthy to have some of it but not too much
  </a></li>
  <li><a href="/web/20120406202832/http://koti.welho.com/pnikande/FAT/index.html#a4">
      Having it on waist may be worse than elsewhere
  </a></li>
  <li><a href="/web/20120406202832/http://koti.welho.com/pnikande/FAT/index.html#a5">
      Younger and slimmer will eventually beat you
  </a></li>
  <li><a href="/web/20120406202832/http://koti.welho.com/pnikande/FAT/index.html#a6">
      <em>Sometimes</em> surgery is a good way to start
  </a></li>
  <li><a href="/web/20120406202832/http://koti.welho.com/pnikande/FAT/index.html#a7">
      Long term results require constant exercise
  </a></li>
</ol>  

<a name="a1"></a>
<h2 id="a1">You naturally tend to gain it while you grow older</h2>

<p> More complex environment and more functionality easily lead to a
  more complex architecture.  However, that is no excuse
  for letting the architecture just get more complex without
  constantly and persistently trying to simplify it.</p>

<p> Complexity is not simply a product of more requirements and more
  functionality.  In general, architectural complexity is a result of
  having lots of stuff without clean organisation.  A system with a
  huge number of parts or functions may still appear simple if the
  parts are organised in a comprehensive manner and if the
  interconnections are easy to understand.</p>

<p><a href="/web/20120406202832/http://koti.welho.com/pnikande/FAT/index.html#top">Back to top</a></p>


<a name="a2"></a>
<h2 id="a2">It is very easy to gain it and very hard to get rid of it</h2>

<p> Designing complex solutions and protocols is easier than designing
  simple ones.  Designing a simple protocol requires hard work.  One
  needs to understand conflicting requirements, consider different
  operating environments, and anticipate future needs.  One has to
  build for future flexibility while trying to keep the current
  simple, without options.  Designing under time pressure easily (but
  not necessarily) leads to more complex design than otherwise.</p>

<p> Once complexity has crept into a system it is very hard to get it
  out.  Getting rid of fat is conceptually easy: you just stop
  eating.  Getting rid of complexity is not that easy: stopping to
  develop new functionality is not enough; you also need to work hard
  to re-design existing functionality in order to reduce
  complexity.</p> 

<p><a href="/web/20120406202832/http://koti.welho.com/pnikande/FAT/index.html#top">Back to top</a></p>


<a name="a3"></a>
<h2 id="a3">It is healthy to have some of it but not too much</h2>

<p class="side-left"><img src="/web/20120406202832im_/http://koti.welho.com/pnikande/FAT/ArchComplexity.jpg" alt="Complex architecture" />
  <br />
  A suitable amount of architectural complexity can be beatiful</p>

<p> Both fat and complexity are connected to
  <a href="/web/20120406202832/http://en.wikipedia.org/wiki/Aesthetics">aesthetics</a>.
  While too much of body fat or too much architectural complexity is
  easily ugly, none of them is not only a sign of illness but also
  often quite ugly, too.  With regard to complexity, elegant solutions
  tend to be more correct.  </p>

<p> Reducing complexity should not be a primary goal per se.  Some
  very complex systems (such as the living cell) are very
  successful.</p>

<p> Some level of complexity in a network architecture shows that the
  architecture is being used.  People are responding to new
  requirements by designing new functions.  This is useful.</p>

<p> The problems start when the system is missing some crucial piece
  of functionality for a long time.  That tends to lead to "point
  solutions", attempts to circumvent the missing central feature by
  designing around it in under some special conditions.  The
  accumulation of incompatible point solutions seems to lead
  particularly bad problems, making the system both complex and
  brittle.</p> 

<p> Our goal should be keeping architectural complexity (fat) and
  functionality (muscle) in balance.</p>


<p><a href="/web/20120406202832/http://koti.welho.com/pnikande/FAT/index.html#top">Back to top</a></p>


<a name="a4"></a>
<h2 id="a4">Having it on waist may be worse than elsewhere</h2>

<p> [Having a lot of fat around the waist increases the chance of
  developing insulin resistance, diabetes, and cardiovascular disease,
  while having fat elsewhere does not seem to increase the risks that
  much.]</p>

<p
   class="side-right">
  <a href="/web/20120406202832/http://www.ietf.org/proceedings/01aug/slides/plenary-1/sld009.htm">
    <img src="/web/20120406202832im_/http://koti.welho.com/pnikande/FAT/waists.jpg" alt="Two waists of TCP/IP" /></a><br />
  <a href="/web/20120406202832/http://www.ietf.org/proceedings/01aug/slides/plenary-1/">
     The two waists of the protocol hourglass</a> by 
  <a href="/web/20120406202832/http://playground.sun.com/pub/ipng/html/bio/deering.html">
    Steve Deering</a></p>

<p> In a layered architecture, the purpose of a waist (a layer with a
  single solution) is to allow upper layers to interoperate over
  different lower layers.  Having a simple and well defined waist
  seems to be a good way to achieve that; in particular, having
  multiple protocols instead of just one seems to lead to excessive
  tunnelling.</p>

<p> The Internet architecture, with both IPv4 and IPv6, seems to lack
  a proper single-solution waist.  Some people are trying to work
  around this from below, e.g., by using MPLS everywhere.  Some people
  are trying to work around with various complicated tunnelling and
  protocol conversion mechanisms.  Others are trying to lift the waist
  higher, and basically giving up the concept of a host.</p>

<p> It is the architectural complexity at the Internet waist that I am
  most worried about.</p>

<p><a href="/web/20120406202832/http://koti.welho.com/pnikande/FAT/index.html#top">Back to top</a></p>


<a name="a5"></a>
<h2 id="a5">Younger and slimmer will eventually beat you</h2>

<p> Architectural complexity leads to reduced agility.  As a result of
  that, younger and less complex systems tend to eventually replace
  older and more complex system, independent of the weight (market
  position) of the old system. </p>

<p><a href="/web/20120406202832/http://koti.welho.com/pnikande/FAT/index.html#top">Back to top</a></p>


<p class="side-right">
  <a href="/web/20120406202832/http://www.christopherholt.com/photos-2003/construction/victoria_street_site_01.jpg">
    <img src="/web/20120406202832im_/http://koti.welho.com/pnikande/FAT/surgery.jpg" alt="Construction site" /></a><br />
    Victoria Street construction site by 
    <a href="/web/20120406202832/http://www.christopherholt.com/">Christopher Holt</a></p>

<a name="a6"></a>
<h2 id="a6"><em>Sometimes</em> surgery is a good way to start</h2>

<p> Changing the architecture drastically is painful.  Anaesthetics are
  not an option; we can't have flag days.  Market adaptation will take
  a long time and may not ever take place.  Reducing the symptoms with
  various kinds of well-thought-out operational and maintenance
  medicine may be needed to keep the patient alive.</p>

<p> Despite all of the problems involved, personally I tend to believe
  that introducing a new waist layer to the Internet protocol stack
  architecture is needed.  The question is more about timing and
  roadmaps than whether it is needed or not. </p>

<p> It is important to note here that even large-scale surgery is not
  a complete nor a permanent fix.  More work will be needed to remove
  much of the remaining fat.</p>

<p><a href="/web/20120406202832/http://koti.welho.com/pnikande/FAT/index.html#top">Back to top</a></p>


<p class="side-left">
  <img src="/web/20120406202832im_/http://koti.welho.com/pnikande/FAT/balance.jpg" alt="Children's tai chi class" /><br />
  <a href="/web/20120406202832/http://en.wikipedia.org/wiki/Tai_Chi">Tai Chi Chuan</a> requires balance</p>

<a name="a7"></a>
<h2 id="a7">Long term results require constant exercise</h2>

<p> Some people get addicted to exercise.  It would be very good to
  get a group of people addicted in trying to get rid of unused
  protocols, unused options, and other unused stuff in the current
  Internet specifications.  </p>



<p><a href="/web/20120406202832/http://koti.welho.com/pnikande/FAT/index.html#top">Back to top</a></p>

</div><!-- main -->

<hr />

<div class="footer">
  <p class="validator">
  <a href="/web/20120406202832/http://validator.w3.org/check/referer">
    <img src="/web/20120406202832im_/http://www.w3.org/Icons/valid-xhtml10"
         border="0"
         alt="Valid XHTML 1.0!"
         height="31" width="88" /></a>
  </p>

  <p class="copyright">
  Copyright
  &#160;&#169;&#160; 2005
  <a href="/web/20120406202832/http://www.ietf.org/">Internet Engineering Task Force</a>.
  </p>

</div>

</body>
</html>








<!--
     FILE ARCHIVED ON 20:28:32 Apr 6, 2012 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 7:15:50 May 14, 2014.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
